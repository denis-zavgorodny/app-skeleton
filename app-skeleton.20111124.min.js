/**
 * Application skeleton
 * @version 1.0.1
 * @author  Vladimir Kuznetsov
 * @see     <a href="https://github.com/mistakster/app-skeleton">Application skeleton</a>
 */
;(function(f,h){function k(d){return"[object Array]"===Object.prototype.toString.apply(d)}function i(d,e){for(var a in e)!("undefined"===typeof e[a]||null===e[a])&&("undefined"===typeof d[a]||null===d[a])&&(d[a]=e[a]);return d}var g=f[h]=f[h]||{};(function(){function d(a,b,c){var d,e;if(a){a=a.split(".");for(d=a[0]===h?1:0;d<a.length;d+=1)e=c[a[d]]||{},c=c[a[d]]=d===a.length-1&&b?i(b,e):e}return c}var e={};g.namespace=function(a,b){return d(a,b,f[h])};g.defaults=function(a,b){return d(a,b,e)}})();
(function(){function d(a){var b=Array.prototype.unshift,c=e[a],f=[];if(a&&c&&(c.path&&!c.skip&&f.push(a),0<c.requires.length))for(a=c.requires.length-1;0<=a;a-=1)b.apply(f,d(c.requires[a]));return f}var e={};g.register=function(a){var b,c;if(a)for(a=k(a)?a:[a],b=a.length-1;0<=b;b-=1)c=a[b],c.name&&(e[c.name]={path:c.path||"",requires:c.requires||[],skip:c.skip||!1});return e};g.calculate=function(a,b){var c,f=[],g=Array.prototype.push;for(a=k(a)?a:[a],c=0;c<a.length;c+=1)g.apply(f,d(a[c]));c=!b;var j,
h,i=[],l={};for(j=0;j<f.length;j+=1)if((h=f[j])&&!l[h])g=e[h],l[h]=i.push(g.path),g.skip=g.skip||c;return i}})();(function(){function d(a,b){return b?i(b||{},e):e}var e={queue:[],bootstraped:!1,loader:f.Modernizr&&f.Modernizr.load||f.yepnope};g.bootstrap=function(a){var b=d.apply(this,arguments);Array.prototype.unshift.apply(b.queue,k(a)?a:[a]);if(b.loader)b.loader.call(f,b.queue),b.queue=[],b.bootstraped=!0};g.load=function(a){var b=d.apply(this,arguments);"[object Function]"===Object.prototype.toString.apply(a)&&
(a={load:[],complete:a});b.bootstraped&&b.loader?b.loader.call(f,a):Array.prototype.push.apply(b.queue,k(a)?a:[a])}})()})(this,"App");
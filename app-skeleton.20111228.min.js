/**
 * Application skeleton
 * @version 1.1.1
 * @author  Vladimir Kuznetsov
 * @see     <a href="https://github.com/mistakster/app-skeleton">Application skeleton</a>
 */
(function(f,i){function l(c){return"undefined"===typeof c||null===c}function k(c){return"[object Array]"===j.apply(c)?c:[c]}function m(c,e){for(var a in e)!l(e[a])&&l(c[a])&&(c[a]=e[a]);return c}var g=f[i]=f[i]||{},n=Array.prototype.push,o=Array.prototype.unshift,j=Object.prototype.toString;(function(){function c(a,b,d){var c,e;if(a){a=a.split(".");for(c=a[0]===i?1:0;c<a.length;c+=1)e=d[a[c]]||{},d=d[a[c]]=c===a.length-1&&b?m(b,e):e}return d}var e={};g.namespace=function(a,b){return c(a,b,f[i])};
g.defaults=function(a,b,d){if(b&&"[object Object]"===j.apply(b))d=c(a,b,e);else{var a=c(a,{},e),f;if(!l(b)){f=(""+b).split(".");for(b=0;b<f.length;b+=1)if(a&&"[object Object]"===j.apply(a)&&a.hasOwnProperty(f[b]))a=a[f[b]];else{a=d;break}}d=a}return d}})();(function(){function c(a){var b=e[a],d=[];if(a&&b&&(b.path&&!b.skip&&d.push(a),0<b.requires.length))for(a=b.requires.length-1;0<=a;a-=1)o.apply(d,c(b.requires[a]));return d}var e={};g.register=function(a){var b,c;if(a)for(a=k(a),b=a.length-1;0<=
b;b-=1)c=a[b],c.name&&(e[c.name]={path:c.path||"",requires:c.requires||[],skip:c.skip||!1});return e};g.calculate=function(a,b){var d,f=[];for(a=k(a),d=0;d<a.length;d+=1)n.apply(f,c(a[d]));d=!b;var h,g,i=[],j={};for(g=0;g<f.length;g+=1)if((h=f[g])&&!j[h])j[h]=!0,h=e[h],n.apply(i,k(h.path)),h.skip=h.skip||d;return i}})();(function(){function c(a,b){return b?m(b||{},e):e}var e={queue:[],bootstraped:!1,loader:f.Modernizr&&f.Modernizr.load||f.yepnope};g.bootstrap=function(a){var b=c.apply(this,arguments);
o.apply(b.queue,k(a));if(b.loader)b.loader.call(f,b.queue),b.queue=[],b.bootstraped=!0};g.load=function(a){var b=c.apply(this,arguments);"[object Function]"===j.apply(a)&&(a={load:[],complete:a});b.bootstraped&&b.loader?b.loader.call(f,a):Array.prototype.push.apply(b.queue,k(a))}})()})(this,"App");
/**
 * Application skeleton
 * @author  Vladimir Kuznetsov
 * @url     https://github.com/mistakster/app-skeleton
 */
(function(f,j){function k(e){return Object.prototype.toString.apply(e)==="[object Array]"}function i(e,b){for(var a in b)!(b[a]===j||b[a]===null)&&(e[a]===j||e[a]===null)&&(e[a]=b[a]);return e}var h="App",g=f[h]=f[h]||{};(function(){function e(a,d,c){var b,e=c||f[h];if(a){a=a.split(".");for(c=a[0]===h?1:0;c<a.length;c++)b=e[a[c]]||{},e=e[a[c]]=c===a.length-1&&d?i(d,b):b}return e}var b={};g.namespace=function(a,b){return e(a,b)};g.defaults=function(a,d){return e(a,d,b)}})();(function(){function e(a){var d=
Array.prototype.unshift,c=b[a],f=[];if(a&&c&&(c.path&&!c.skip&&f.push(a),c.requires.length>0))for(a=c.requires.length;a--;)d.apply(f,e(c.requires[a]));return f}var b={};g.register=function(a){var d,c;if(a)for(a=k(a)?a:[a],d=a.length;d--;)c=a[d],c.name&&(b[c.name]={path:c.path||"",requires:c.requires||[],skip:c.skip||!1});return b};g.calculate=function(a,d){var c,f=[],g=Array.prototype.push;for(a=k(a)?a:[a],c=0;c<a.length;c++)g.apply(f,e(a[c]));c=!d;var h,l,i=[],j={};for(h=0;h<f.length;h++)if((l=f[h])&&
!j[l])g=b[l],j[l]=i.push(g.path),g.skip=g.skip||c;return i}})();(function(){var e={queue:[],bootstraped:!1,loader:f.Modernizr&&f.Modernizr.load||f.yepnope};g.bootstrap=function(b,a){var d=a?i(a||{},e):e;Array.prototype.unshift.apply(d.queue,k(b)?b:[b]);if(d.loader)d.loader.call(f,d.queue),d.queue=[],d.bootstraped=!0};g.load=function(b,a){var d=a?i(a||{},e):e;Object.prototype.toString.apply(b)==="[object Function]"&&(b={load:[],complete:b});d.bootstraped&&d.loader?d.loader.call(f,b):Array.prototype.push.apply(d.queue,
k(b)?b:[b])}})()})(window);
# Скелет приложения

Набор методов, которые позволяют организовать код.

## namespace()

Модули и функции приложения не захламляют глобальное
пространство имен, а группируются в специально отведенной
для них переменной. Базовое имя задается в константе **NS**.

    App.namespace("App.Module1");

Можно использовать укороченный синтаксис, чтобы получить аналогичный результат:

    App.namespace("Module1");

Второй опциональный параметр задает исходный объект, который
нужно расширить существующими полями и методами, если они уже есть.

    App.namespace("App.Module1", {
        field: "field 1",
        method: function (a, b) {
            return a + b;
        }
    });

Метод может быть вызван без параметров. Тогда он вернет глобальный
объект приложения

    App.namespace() === App    /* true */

## defaults()

Вспомогательный метод для доступа к хранилищу настроек компонент приложения.
Его поведение полностью аналогично `namespace` за исключением того, что
данные сохраняются и извлекаются не из глобальной меременной, а из локальной.

    App.defauls("Module1", {url: "/search/"});

Если `defaults` вызвать без параметров, то можно получить доступ ко всем
сохраненным ранее данным.

Основное применение этого метода заключается в том, что приложение
может объявлять настройки отдельных компонент до их загрузки и инициализации.
В дальнейшем такие компоненты при инициализации должны будут обратиться к
этому хранилищу и получить их.

## register()

Добавляем описание компоненты приложения

    App.register({
        // имя компоненты, которое в дальнейшем будет использоваться
        // при построении списка зависимостей
        name: "module1",
        // путь до файла компоненты
        path: "/scripts/module1.js",
        // список зависимостей. порядок следования определяет приоритет загрузки
        // может быть пустым или отсутствовать вообще
        requires: ["jQuery", "common", "module2"]
    });

Метод всегда возвращает объект со всеми описаниями компонент приложения.
Не рекомендуется изменять его содержимое, но можно использовать для различного
рода проверок.

Вызвав его без параметров, можно получить объект-хранилище без каких
либо предварительнх изменений в нем.

    var storage = App.register();

Компоненты можно добавлять как по одной, так и массивом

## calculate()

Построение списка компонент, от которых зависит данный модуль

    var list = App.calculate("module1");

В результате работы получаем массив со значениями `path`, отсортированный в порядке
значимости.

## load()

Обёртка для аналогичного метода [yepnope.js](http://yepnopejs.com/). Используется
для тех же целей, но имеет одну особенность — очередь отправится на загрузку
только после первого вызова метода `bootstrap`.

Различные компоненты приложения могу инициировать загрузку на любой стадии выполнения
скриптов. Но так как в них могут присутствовать жесткие зависимости, например,
от [jQuery](http://jquery.com/), то сперва нужно позабоиться о загрузке таких
общих для всего приложения ресурсов.

## bootstap()

Это так же метод-обёртка, но выполняться он должен только один раз. С его помощью
загружаются общие для всего приложения ресурсы. После этого начинается загрузка
все остальных компонент, которые успели встать в очередь с помощью метода `load`.
